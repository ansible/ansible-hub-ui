Fixed and reworked collection deletion to fix missing collection version in alert
